{"ast":null,"code":"var _jsxFileName = \"/Users/jadennobles/Github/fetch-take-home/fetch-take-home/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport './index.css';\n\n// Login Component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = ({\n  onLogin\n}) => {\n  _s();\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError(\"\"); // Clear previous errors\n    try {\n      const response = await fetch(\"https://frontend-take-home-service.fetch.com/auth/login\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          name,\n          email\n        }),\n        credentials: \"include\"\n      });\n      if (response.ok) {\n        onLogin();\n      } else {\n        setError(\"Invalid credentials. Please try again.\");\n      }\n    } catch (error) {\n      setError(\"An error occurred. Please try again later.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: \"10px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://cdn.brandfetch.io/id7Cm60rQf/theme/dark/idaA507RHz.svg?c=1bx1740417582576id64Mup7ac7BMUaS6m&t=1675057844666\",\n        alt: \"Fetch Rewards Logo\",\n        className: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 3\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          margin: 0\n        },\n        children: \"Fetch Take Home Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 3\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, this), \"      \", /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      className: \"form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Name\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Login\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 16\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"error-message\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 5\n  }, this);\n};\n\n// Dog Search Component\n_s(Login, \"Io2CsfgaujcWDacpVJUmglqve44=\");\n_c = Login;\nconst DogSearch = ({\n  onLogout\n}) => {\n  _s2();\n  const [breeds, setBreeds] = useState([]);\n  const [dogs, setDogs] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [filters, setFilters] = useState({\n    breed: \"\",\n    ageMin: \"\",\n    ageMax: \"\",\n    zipCodes: \"\"\n  });\n  const [sort, setSort] = useState(\"breed:asc\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [matchedDog, setMatchedDog] = useState(null); // Store matched dog\n  const pageSize = 10; // Number of dogs per page\n\n  // Reference to the matched dog section\n  const matchRef = useRef(null);\n  useEffect(() => {\n    fetch(\"https://frontend-take-home-service.fetch.com/dogs/breeds\", {\n      credentials: \"include\"\n    }).then(response => response.json()).then(data => setBreeds(data)).catch(error => console.error(\"Error fetching breeds:\", error));\n  }, []);\n  const handleSearch = async (page = 1) => {\n    try {\n      const formattedFilters = {\n        ...filters,\n        breeds: filters.breed ? [filters.breed] : [],\n        zipCodes: filters.zipCodes ? filters.zipCodes.split(\",\").filter(zip => zip.trim() !== \"\") : []\n      };\n      const cleanedFilters = Object.fromEntries(Object.entries(formattedFilters).filter(([_, value]) => value.length > 0));\n      const queryParams = new URLSearchParams({\n        ...cleanedFilters,\n        sort,\n        size: pageSize,\n        // Number of results per page\n        from: (page - 1) * pageSize // Offset\n      });\n      if (cleanedFilters.zipCodes) {\n        cleanedFilters.zipCodes.forEach(zip => queryParams.append(\"zipCodes\", zip));\n      }\n      const response = await fetch(`https://frontend-take-home-service.fetch.com/dogs/search?${queryParams}`, {\n        credentials: \"include\"\n      });\n      const data = await response.json();\n      const dogIds = data.resultIds;\n      setTotalPages(Math.ceil(data.total / pageSize)); // Set total pages\n      const dogDetailsResponse = await fetch(\"https://frontend-take-home-service.fetch.com/dogs\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(dogIds),\n        credentials: \"include\"\n      });\n      const dogDetails = await dogDetailsResponse.json();\n      setDogs(dogDetails);\n      setCurrentPage(page); // Update current page\n    } catch (error) {\n      console.error(\"Error searching dogs:\", error);\n    }\n  };\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      handleSearch(currentPage + 1);\n    }\n  };\n  const handlePrevPage = () => {\n    if (currentPage > 1) {\n      handleSearch(currentPage - 1);\n    }\n  };\n  const toggleSortOrder = () => {\n    setSort(prevSort => prevSort === \"breed:asc\" ? \"breed:desc\" : \"breed:asc\");\n  };\n  useEffect(() => {\n    if (dogs.length > 0) {\n      handleSearch(1); // Re-fetch results when sort changes\n    }\n  }, [sort]);\n  const handleFavorite = dogId => {\n    setFavorites(prev => prev.includes(dogId) ? prev.filter(id => id !== dogId) : [...prev, dogId]);\n  };\n  const handleMatch = async () => {\n    if (favorites.length === 0) {\n      alert(\"Please add at least one dog to your favorites before generating a match.\");\n      return;\n    }\n    try {\n      const response = await fetch(\"https://frontend-take-home-service.fetch.com/dogs/match\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(favorites),\n        credentials: \"include\"\n      });\n      const data = await response.json();\n      const matchedDogId = data.match;\n\n      // Fetch details of the matched dog\n      const matchedDogResponse = await fetch(\"https://frontend-take-home-service.fetch.com/dogs\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify([matchedDogId]),\n        credentials: \"include\"\n      });\n      const matchedDogDetails = await matchedDogResponse.json();\n      setMatchedDog(matchedDogDetails[0]);\n\n      // Scroll to the matched dog section after a short delay\n      setTimeout(() => {\n        if (matchRef.current) {\n          matchRef.current.scrollIntoView({\n            behavior: \"smooth\"\n          });\n        }\n      }, 100);\n    } catch (error) {\n      console.error(\"Error generating match:\", error);\n      alert(\"An error occurred while generating the match. Please try again later.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"page-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        gap: \"10px\",\n        marginBottom: \"20px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"https://cdn.brandfetch.io/id7Cm60rQf/theme/dark/idaA507RHz.svg?c=1bx1740417582576id64Mup7ac7BMUaS6m&t=1675057844666\",\n        alt: \"Fetch Rewards Logo\",\n        className: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          margin: 0\n        },\n        children: \"Fetch Dog Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onLogout,\n        style: {\n          marginLeft: \"auto\"\n        },\n        className: \"button-spacing\",\n        children: \"Logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-row\",\n      children: [/*#__PURE__*/_jsxDEV(\"select\", {\n        value: filters.breed,\n        onChange: e => setFilters({\n          ...filters,\n          breed: e.target.value\n        }),\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          value: \"\",\n          children: \"Select Breed\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 237,\n          columnNumber: 11\n        }, this), breeds.map(breed => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: breed,\n          children: breed\n        }, breed, false, {\n          fileName: _jsxFileName,\n          lineNumber: 239,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Min Age\",\n        value: filters.ageMin,\n        onChange: e => setFilters({\n          ...filters,\n          ageMin: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Max Age\",\n        value: filters.ageMax,\n        onChange: e => setFilters({\n          ...filters,\n          ageMax: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Zip Codes\",\n        value: filters.zipCodes,\n        onChange: e => setFilters({\n          ...filters,\n          zipCodes: e.target.value\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleSearch(1),\n        className: \"button-spacing\",\n        children: \"Search\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 262,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleSortOrder,\n        className: \"button-spacing\",\n        children: [\"Sort by Breed (\", sort === \"breed:asc\" ? \"Ascending\" : \"Descending\", \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Results\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 271,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dogs-container\",\n      children: dogs.map(dog => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dog-card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: dog.img,\n            alt: dog.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 276,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            justifyContent: \"left\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Name:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 18\n            }, this), \" \", dog.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Breed:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 18\n            }, this), \" \", dog.breed]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Age:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 18\n            }, this), \" \", dog.age, \" years old\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n              children: \"Zip Code:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 18\n            }, this), \" \", dog.zip_code]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 278,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            justifyContent: \"center\"\n          },\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleFavorite(dog.id),\n            children: favorites.includes(dog.id) ? \"Unfavorite\" : \"Favorite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 284,\n          columnNumber: 13\n        }, this)]\n      }, dog.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pagination-controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePrevPage,\n        className: \"button-spacing\",\n        disabled: currentPage === 1,\n        children: \"Previous\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"button-spacing\",\n        children: [\"Page \", currentPage, \" of \", totalPages]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleNextPage,\n        className: \"button-spacing\",\n        disabled: currentPage === totalPages,\n        children: \"Next\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleMatch,\n      style: {\n        marginTop: \"10px\"\n      },\n      children: \"Generate Match\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: matchRef,\n      children: matchedDog && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"matched-dog\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Your Match\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 315,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: matchedDog.img,\n          alt: matchedDog.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Name:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 16\n          }, this), \" \", matchedDog.name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 317,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Breed:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 16\n          }, this), \" \", matchedDog.breed]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Age:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 319,\n            columnNumber: 16\n          }, this), \" \", matchedDog.age, \" years old\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Zip Code:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 16\n          }, this), \" \", matchedDog.zip_code]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 314,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 5\n  }, this);\n};\n\n// App Component\n_s2(DogSearch, \"dHUk8R5lvm7MO0I2Snwz+UdfJfA=\");\n_c2 = DogSearch;\nconst App = () => {\n  _s3();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  // Handle Logout\n  const handleLogout = async () => {\n    try {\n      // Call the logout endpoint\n      await fetch(\"https://frontend-take-home-service.fetch.com/auth/logout\", {\n        method: \"POST\",\n        credentials: \"include\"\n      });\n\n      // Update the app state to log the user out\n      setIsLoggedIn(false);\n    } catch (error) {\n      console.error(\"Error during logout:\", error);\n      alert(\"An error occurred while logging out. Please try again later.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: !isLoggedIn ? /*#__PURE__*/_jsxDEV(Login, {\n      onLogin: () => setIsLoggedIn(true)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(DogSearch, {\n      onLogout: handleLogout\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 350,\n    columnNumber: 5\n  }, this);\n};\n_s3(App, \"g0MSgNVZk+vKiEFnDJ9VPEfswFA=\");\n_c3 = App;\nexport default App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Login\");\n$RefreshReg$(_c2, \"DogSearch\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Login","onLogin","_s","name","setName","email","setEmail","error","setError","handleSubmit","e","preventDefault","response","fetch","method","headers","body","JSON","stringify","credentials","ok","className","children","style","display","alignItems","gap","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","margin","onSubmit","type","placeholder","value","onChange","target","required","_c","DogSearch","onLogout","_s2","breeds","setBreeds","dogs","setDogs","favorites","setFavorites","filters","setFilters","breed","ageMin","ageMax","zipCodes","sort","setSort","currentPage","setCurrentPage","totalPages","setTotalPages","matchedDog","setMatchedDog","pageSize","matchRef","useRef","then","json","data","catch","console","handleSearch","page","formattedFilters","split","filter","zip","trim","cleanedFilters","Object","fromEntries","entries","_","length","queryParams","URLSearchParams","size","from","forEach","append","dogIds","resultIds","Math","ceil","total","dogDetailsResponse","dogDetails","handleNextPage","handlePrevPage","toggleSortOrder","prevSort","handleFavorite","dogId","prev","includes","id","handleMatch","alert","matchedDogId","match","matchedDogResponse","matchedDogDetails","setTimeout","current","scrollIntoView","behavior","marginBottom","onClick","marginLeft","map","dog","justifyContent","img","age","zip_code","disabled","marginTop","ref","_c2","App","_s3","isLoggedIn","setIsLoggedIn","handleLogout","_c3","$RefreshReg$"],"sources":["/Users/jadennobles/Github/fetch-take-home/fetch-take-home/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport './index.css';\n\n// Login Component\nconst Login = ({ onLogin }) => {\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [error, setError] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError(\"\"); // Clear previous errors\n    try {\n      const response = await fetch(\n        \"https://frontend-take-home-service.fetch.com/auth/login\",\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ name, email }),\n          credentials: \"include\",\n        }\n      );\n      if (response.ok) {\n        onLogin();\n      } else {\n        setError(\"Invalid credentials. Please try again.\");\n      }\n    } catch (error) {\n      setError(\"An error occurred. Please try again later.\");\n    }\n  };\n\n  return (\n    <div className=\"page-container\">\n      {/* Logo and Heading */}\n      <header style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\" }}>\n  {/* Logo */}\n  <img\n    src=\"https://cdn.brandfetch.io/id7Cm60rQf/theme/dark/idaA507RHz.svg?c=1bx1740417582576id64Mup7ac7BMUaS6m&t=1675057844666\"\n    alt=\"Fetch Rewards Logo\"\n    className=\"logo\"\n  />\n\n  {/* Heading */}\n  <h1 style={{ margin: 0 }}>Fetch Take Home Login</h1>\n</header>      <form onSubmit={handleSubmit} className=\"form-row\">\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required\n        />\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n        />\n        <button type=\"submit\">Login</button>\n      </form>\n      {error && <p className=\"error-message\">{error}</p>}\n    </div>\n  );\n};\n\n// Dog Search Component\nconst DogSearch = ({ onLogout }) => {\n  const [breeds, setBreeds] = useState([]);\n  const [dogs, setDogs] = useState([]);\n  const [favorites, setFavorites] = useState([]);\n  const [filters, setFilters] = useState({\n    breed: \"\",\n    ageMin: \"\",\n    ageMax: \"\",\n    zipCodes: \"\",\n  });\n  const [sort, setSort] = useState(\"breed:asc\");\n  const [currentPage, setCurrentPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [matchedDog, setMatchedDog] = useState(null); // Store matched dog\n  const pageSize = 10; // Number of dogs per page\n\n  // Reference to the matched dog section\n  const matchRef = useRef(null);\n\n  useEffect(() => {\n    fetch(\"https://frontend-take-home-service.fetch.com/dogs/breeds\", {\n      credentials: \"include\",\n    })\n      .then((response) => response.json())\n      .then((data) => setBreeds(data))\n      .catch((error) => console.error(\"Error fetching breeds:\", error));\n  }, []);\n\n  const handleSearch = async (page = 1) => {\n    try {\n      const formattedFilters = {\n        ...filters,\n        breeds: filters.breed ? [filters.breed] : [],\n        zipCodes: filters.zipCodes\n          ? filters.zipCodes.split(\",\").filter((zip) => zip.trim() !== \"\")\n          : [],\n      };\n      const cleanedFilters = Object.fromEntries(\n        Object.entries(formattedFilters).filter(([_, value]) => value.length > 0)\n      );\n      const queryParams = new URLSearchParams({\n        ...cleanedFilters,\n        sort,\n        size: pageSize, // Number of results per page\n        from: (page - 1) * pageSize, // Offset\n      });\n      if (cleanedFilters.zipCodes) {\n        cleanedFilters.zipCodes.forEach((zip) =>\n          queryParams.append(\"zipCodes\", zip)\n        );\n      }\n      const response = await fetch(\n        `https://frontend-take-home-service.fetch.com/dogs/search?${queryParams}`,\n        { credentials: \"include\" }\n      );\n      const data = await response.json();\n      const dogIds = data.resultIds;\n      setTotalPages(Math.ceil(data.total / pageSize)); // Set total pages\n      const dogDetailsResponse = await fetch(\n        \"https://frontend-take-home-service.fetch.com/dogs\",\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(dogIds),\n          credentials: \"include\",\n        }\n      );\n      const dogDetails = await dogDetailsResponse.json();\n      setDogs(dogDetails);\n      setCurrentPage(page); // Update current page\n    } catch (error) {\n      console.error(\"Error searching dogs:\", error);\n    }\n  };\n\n  const handleNextPage = () => {\n    if (currentPage < totalPages) {\n      handleSearch(currentPage + 1);\n    }\n  };\n\n  const handlePrevPage = () => {\n    if (currentPage > 1) {\n      handleSearch(currentPage - 1);\n    }\n  };\n\n  const toggleSortOrder = () => {\n    setSort((prevSort) => (prevSort === \"breed:asc\" ? \"breed:desc\" : \"breed:asc\"));\n  };\n\n  useEffect(() => {\n    if (dogs.length > 0) {\n      handleSearch(1); // Re-fetch results when sort changes\n    }\n  }, [sort]);\n\n  const handleFavorite = (dogId) => {\n    setFavorites((prev) =>\n      prev.includes(dogId) ? prev.filter((id) => id !== dogId) : [...prev, dogId]\n    );\n  };\n\n  const handleMatch = async () => {\n    if (favorites.length === 0) {\n      alert(\"Please add at least one dog to your favorites before generating a match.\");\n      return;\n    }\n\n    try {\n      const response = await fetch(\n        \"https://frontend-take-home-service.fetch.com/dogs/match\",\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify(favorites),\n          credentials: \"include\",\n        }\n      );\n      const data = await response.json();\n      const matchedDogId = data.match;\n\n      // Fetch details of the matched dog\n      const matchedDogResponse = await fetch(\n        \"https://frontend-take-home-service.fetch.com/dogs\",\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify([matchedDogId]),\n          credentials: \"include\",\n        }\n      );\n      const matchedDogDetails = await matchedDogResponse.json();\n      setMatchedDog(matchedDogDetails[0]);\n\n      // Scroll to the matched dog section after a short delay\n      setTimeout(() => {\n        if (matchRef.current) {\n          matchRef.current.scrollIntoView({ behavior: \"smooth\" });\n        }\n      }, 100);\n    } catch (error) {\n      console.error(\"Error generating match:\", error);\n      alert(\"An error occurred while generating the match. Please try again later.\");\n    }\n  };\n\n  return (\n    <div className=\"page-container\">\n      {/* Logo and Heading */}\n      <header style={{ display: \"flex\", alignItems: \"center\", gap: \"10px\", marginBottom: \"20px\" }}>\n        <img\n          src=\"https://cdn.brandfetch.io/id7Cm60rQf/theme/dark/idaA507RHz.svg?c=1bx1740417582576id64Mup7ac7BMUaS6m&t=1675057844666\"\n          alt=\"Fetch Rewards Logo\"\n          className=\"logo\"\n        />\n        <h1 style={{ margin: 0 }}>Fetch Dog Search</h1>\n        <button onClick={onLogout} style={{ marginLeft: \"auto\" }} className=\"button-spacing\">\n          Logout\n        </button>\n      </header>\n\n      {/* Filters */}\n      <div className=\"form-row\">\n        <select\n          value={filters.breed}\n          onChange={(e) => setFilters({ ...filters, breed: e.target.value })}\n        >\n          <option value=\"\">Select Breed</option>\n          {breeds.map((breed) => (\n            <option key={breed} value={breed}>\n              {breed}\n            </option>\n          ))}\n        </select>\n        <input\n          type=\"number\"\n          placeholder=\"Min Age\"\n          value={filters.ageMin}\n          onChange={(e) => setFilters({ ...filters, ageMin: e.target.value })}\n        />\n        <input\n          type=\"number\"\n          placeholder=\"Max Age\"\n          value={filters.ageMax}\n          onChange={(e) => setFilters({ ...filters, ageMax: e.target.value })}\n        />\n        <input\n          type=\"text\"\n          placeholder=\"Zip Codes\"\n          value={filters.zipCodes}\n          onChange={(e) => setFilters({ ...filters, zipCodes: e.target.value })}\n        />\n        <button onClick={() => handleSearch(1)} className=\"button-spacing\">\n          Search\n        </button>\n        <button onClick={toggleSortOrder} className=\"button-spacing\">\n          Sort by Breed ({sort === \"breed:asc\" ? \"Ascending\" : \"Descending\"})\n        </button>\n      </div>\n\n      {/* Results */}\n      <h2>Results</h2>\n      <div className=\"dogs-container\">\n        {dogs.map((dog) => (\n          <div key={dog.id} className=\"dog-card\">\n            <div style={{ display: \"flex\", justifyContent: \"center\"}}>\n              <img src={dog.img} alt={dog.name} />\n            </div>\n            <div style={{justifyContent: \"left\"}}>\n              <p><strong>Name:</strong> {dog.name}</p>\n              <p><strong>Breed:</strong> {dog.breed}</p>\n              <p><strong>Age:</strong> {dog.age} years old</p>\n              <p><strong>Zip Code:</strong> {dog.zip_code}</p>\n            </div>\n            <div style={{ display: \"flex\", justifyContent: \"center\"}}>\n              <button onClick={() => handleFavorite(dog.id)}>\n                {favorites.includes(dog.id) ? \"Unfavorite\" : \"Favorite\"}\n              </button>\n            </div>\n          </div>\n        ))}\n      </div>\n\n      {/* Pagination Controls */}\n      <div className=\"pagination-controls\">\n        <button onClick={handlePrevPage} className=\"button-spacing\" disabled={currentPage === 1}>\n          Previous\n        </button>\n        <span className=\"button-spacing\" >\n          Page {currentPage} of {totalPages}\n        </span>\n        <button onClick={handleNextPage} className=\"button-spacing\"  disabled={currentPage === totalPages}>\n          Next\n        </button>\n      </div>\n\n      {/* Generate Match Button */}\n      <button onClick={handleMatch} style={{marginTop: \"10px\"}}>\n        Generate Match\n      </button>\n\n      {/* Matched Dog Section */}\n      <div ref={matchRef}>\n        {matchedDog && (\n          <div className=\"matched-dog\">\n            <h2>Your Match</h2>\n            <img src={matchedDog.img} alt={matchedDog.name} />\n            <p><strong>Name:</strong> {matchedDog.name}</p>\n            <p><strong>Breed:</strong> {matchedDog.breed}</p>\n            <p><strong>Age:</strong> {matchedDog.age} years old</p>\n            <p><strong>Zip Code:</strong> {matchedDog.zip_code}</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\n// App Component\nconst App = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n\n  // Handle Logout\n  const handleLogout = async () => {\n    try {\n      // Call the logout endpoint\n      await fetch(\"https://frontend-take-home-service.fetch.com/auth/logout\", {\n        method: \"POST\",\n        credentials: \"include\",\n      });\n\n      // Update the app state to log the user out\n      setIsLoggedIn(false);\n    } catch (error) {\n      console.error(\"Error during logout:\", error);\n      alert(\"An error occurred while logging out. Please try again later.\");\n    }\n  };\n\n  return (\n    <div>\n      {!isLoggedIn ? (\n        <Login onLogin={() => setIsLoggedIn(true)} />\n      ) : (\n        <DogSearch onLogout={handleLogout} />\n      )}\n    </div>\n  );\n};\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}